{"version":3,"sources":["uni-app:///main.js","webpack:///G:/vue/Applets/cloudsuppressionmusic/pages/me/me.vue?4e6e","webpack:///G:/vue/Applets/cloudsuppressionmusic/pages/me/me.vue?b43b","webpack:///G:/vue/Applets/cloudsuppressionmusic/pages/me/me.vue?555a","webpack:///G:/vue/Applets/cloudsuppressionmusic/pages/me/me.vue?f355","uni-app:///pages/me/me.vue"],"names":["createPage","Page"],"mappings":"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","file":"pages/me/me.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/me/me.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./me.vue?vue&type=template&id=259fb574&\"\nvar renderjs\nimport script from \"./me.vue?vue&type=script&lang=js&\"\nexport * from \"./me.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/me/me.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./me.vue?vue&type=template&id=259fb574&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./me.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./me.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"me\" :class=\"isDark ? 'dark' : ''\">\r\n\t\t<view class=\"main\">\r\n\t\t\t<view class=\"profile\">\r\n\t\t\t\t<view class=\"left\"><image class=\"img\" :src=\"userDetail.profile.avatarUrl\" mode=\"aspectFit\"></image></view>\r\n\t\t\t\t<view class=\"center\">\r\n\t\t\t\t\t<view class=\"p1\">\r\n\t\t\t\t\t\t<text class=\"span\">{{ userDetail.profile.nickname }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"p2\">\r\n\t\t\t\t\t\t<text class=\"span\">lv.{{ userDetail.level }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"right\"><i class=\"iconfont iconzuojiantou-cu\"></i></view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 常见功能 -->\r\n\r\n\t\t\t<!-- 我喜欢的音乐 -->\r\n\t\t\t<view class=\"favoriteMusic\">\r\n\t\t\t\t<view class=\"left\">\r\n\t\t\t\t\t<view class=\"embedded\"><image :src=\"userPlaylist.playlist[0].coverImgUrl\" mode=\"aspectFit\" class=\"img\"></image></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"center\"  @click=\"sheetDetails(userPlaylist.playlist[0].id)\">\r\n\t\t\t\t\t<text class=\"p1\">我喜欢的音乐</text>\r\n\t\t\t\t\t<text class=\"p2\">{{ userPlaylist.playlist[0].trackCount }}首</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t<view class=\"intelligence\" @click=\"getPlaylistMusic()\">\r\n\t\t\t\t\t\t<i class=\" iconfont iconxindong\"><text class=\"span\">心动模式</text></i>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 创建歌单 -->\r\n\t\t\t<view class=\"createSongList\">\r\n\t\t\t\t<view class=\"bgc\">\r\n\t\t\t\t\t<view class=\"top\">\r\n\t\t\t\t\t\t<view class=\"left\">\r\n\t\t\t\t\t\t\t<text class=\"p\">创建歌单（{{ createSongLists.length }}）个</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t\t\t<i class=\"iconfont iconjia1\" @click=\"notImplemented()\"></i>\r\n\t\t\t\t\t\t\t<i class=\"iconfont iconziyuan\" @click=\"notImplemented()\"></i>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"contentText\">\r\n\t\t\t\t\t\t<scroll-view scroll-y=\"true\" class=\"scroll-view \">\r\n\t\t\t\t\t\t\t<view class=\"scroll-item\" v-for=\"(item, index) in createSongLists\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t<view class=\"left\" @click=\"sheetDetails(item.id)\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"le\"><image :src=\"item.coverImgUrl\" mode=\"aspectFit\" class=\"img\"></image></view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"name\">{{ item.name }}</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"trackCount\">{{ item.trackCount }}首</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"right\"><i class=\" iconfont iconziyuan\" @click=\"notImplemented()\"></i></view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</scroll-view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 收藏歌单 -->\r\n\t\t\t<view class=\"createSongList collectionSongLists\">\r\n\t\t\t\t<view class=\"bgc\">\r\n\t\t\t\t\t<view class=\"top\">\r\n\t\t\t\t\t\t<view class=\"left\">\r\n\t\t\t\t\t\t\t<text class=\"p\">收藏歌单（{{ collectionSongLists.length }}）个</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"right\"><i class=\"iconfont iconziyuan\" @click=\"notImplemented()\"></i></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"contentText\">\r\n\t\t\t\t\t\t<scroll-view scroll-y=\"true\" class=\"scroll-view\">\r\n\t\t\t\t\t\t\t<view class=\"scroll-item\" v-for=\"(item, index) in collectionSongLists\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t<view class=\"left\" @click=\"sheetDetails(item.id)\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"le\"><image :src=\"item.coverImgUrl\" mode=\"aspectFit\" class=\"img\"></image></view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"center\" >\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"name\">{{ item.name }}</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"trackCount\">{{ item.trackCount }}首 by {{ item.creator.nickname }}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t\t<view class=\"right\"><i class=\" iconfont iconziyuan\" @click=\"notImplemented()\"></i></view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</scroll-view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 播放区 -->\r\n\t\t<music-playbar v-show=\"isShow\"></music-playbar>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport '@/static/less/me.less';\r\nimport musicPlaybar from '@/components/musicPlayBar/musicPlayBar.vue';\r\nexport default {\r\n\tcomponents: { musicPlaybar },\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tuserDetail: [], //用户信息\r\n\t\t\tuserPlaylist: [], //用户歌单\r\n\t\t\trendering: false, //渲染完成\r\n\t\t\tcreateSongLists: [], //创建歌单\r\n\t\t\tcollectionSongLists: [], //收藏歌单\r\n\t\t\tsongListId: '', //歌单id//2097071529\r\n\t\t\tsongListVisible: false, //歌单详情\r\n\t\t\tcookie: ''\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tisShow: {\r\n\t\t\t//播放状态\r\n\t\t\tget() {\r\n\t\t\t\treturn this.$store.state.isShow;\r\n\t\t\t},\r\n\t\t\tset(v) {\r\n\t\t\t\t// 使用vuex中的mutations中定义好的方法来改变\r\n\t\t\t\tthis.$store.commit('setisShow', v);\r\n\t\t\t}\r\n\t\t},\r\n\t\tisDark: {\r\n\t\t\tget() {\r\n\t\t\t\treturn this.$store.state.isDark;\r\n\t\t\t},\r\n\t\t\tset(v) {\r\n\t\t\t\tthis.$store.comnit('setisDark', v);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tonShow() {\r\n\t\tif (this.isDark) {\r\n\t\t\tuni.setNavigationBarColor({\r\n\t\t\t\tfrontColor: '#ffffff',\r\n\t\t\t\tbackgroundColor: '#333',\r\n\t\t\t\tanimation: {\r\n\t\t\t\t\tduration: 400,\r\n\t\t\t\t\ttimingFunc: 'easeIn'\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tgetUserDetail: function(uid) {\r\n\t\t\tuni.showLoading({\r\n\t\t\t\tmask: true,\r\n\t\t\t\ttitle: '加载中...'\r\n\t\t\t});\r\n\t\t\tlet that = this;\r\n\t\t\tuni.getStorage({\r\n\t\t\t\tkey: 'cookie',\r\n\t\t\t\tsuccess: function(cookieRes) {\r\n\t\t\t\t\tthat.cookie = cookieRes.data;\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: 'https://wx.3dcw.cn/user/detail',\r\n\t\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tt: Date.parse(new Date()),\r\n\t\t\t\t\t\t\tuid: uid,\r\n\t\t\t\t\t\t\tcookie: cookieRes.data\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\tthat.userDetail = res.data;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: function(err) {\r\n\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tfail: err => {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '未登录，无法查看'\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tuni.hideToast();\r\n\t\t\t\t\t}, 3000);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetUserPlaylist: function(uid) {\r\n\t\t\tlet that = this;\r\n\t\t\tuni.request({\r\n\t\t\t\turl: 'https://wx.3dcw.cn/user/playlist',\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tt: Date.parse(new Date()),\r\n\t\t\t\t\tuid: uid\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tthat.userPlaylist = res.data;\r\n\t\t\t\t\tthat.songListId = res.data.playlist[0].id;\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tfor (let i = 1; i < res.data.playlist.length; i++) {\r\n\t\t\t\t\t\tif (uid == res.data.playlist[i].creator.userId) {\r\n\t\t\t\t\t\t\tthat.createSongLists.push(res.data.playlist[i]);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat.collectionSongLists.push(res.data.playlist[i]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetPlaylistMusic: function() {\r\n\t\t\tuni.showLoading({\r\n\t\t\t\tmask:true,\r\n\t\t\t\ttitle:\"加载中...\"\r\n\t\t\t})\r\n\t\t\tlet that = this;\r\n\t\t\tlet songlist = that.$store.getters.getsongInfo;\r\n\t\t\tthat.getIntelligence(songlist.id ? songlist.id : songlist.resourceId);\r\n\t\t},\r\n\t\tnotImplemented: function() {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '未实现',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetIntelligence: function(songId) {\r\n\t\t\tlet that = this;\r\n\t\t\tuni.request({\r\n\t\t\t\turl: 'https://wx.3dcw.cn/playmode/intelligence/list',\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tt: Date.parse(new Date()),\r\n\t\t\t\t\tcookie: that.cookie,\r\n\t\t\t\t\tid: songId,\r\n\t\t\t\t\tpid: that.songListId\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tthat.playMusic(res.data.data[0].songInfo);\r\n\t\t\t\t\tlet songInfoArray = [];\r\n\t\t\t\t\tres.data.data.forEach(function(item) {\r\n\t\t\t\t\t\tsongInfoArray.push(item.songInfo);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthat.$store.commit('setplaylist', songInfoArray);\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t},\r\n\t\t\t\tfail: function(err) {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tplayMusic: function(songInfo) {\r\n\t\t\tsongInfo['picUrl'] = songInfo.al.picUrl;\r\n\t\t\tthis.getplayMusic(songInfo.id, songInfo);\r\n\t\t},\r\n\t\tsheetDetails: function(sheetID) {\r\n\t\t\tconsole.log(sheetID)\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: '/pages/sheetDetails/sheetDetails',\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tres.eventChannel.emit('sheetDetails', {\r\n\t\t\t\t\t\tsongListId: sheetID\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tanimationType: 'pop-in',\r\n\t\t\t\tanimationDuration: 200\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tlet that = this;\r\n\t\tuni.getStorage({\r\n\t\t\tkey: 'profile',\r\n\t\t\tsuccess: function(res) {\r\n\t\t\t\tthat.getUserDetail(res.data.userId);\r\n\t\t\t\tthat.getUserPlaylist(res.data.userId);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n};\r\n</script>\r\n"],"sourceRoot":""}