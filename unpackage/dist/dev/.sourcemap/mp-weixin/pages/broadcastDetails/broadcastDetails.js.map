{"version":3,"sources":["uni-app:///main.js",null,"webpack:///G:/vue/Applets/cloudsuppressionmusic/pages/broadcastDetails/broadcastDetails.vue?1ce6","webpack:///G:/vue/Applets/cloudsuppressionmusic/pages/broadcastDetails/broadcastDetails.vue?db35","webpack:///G:/vue/Applets/cloudsuppressionmusic/pages/broadcastDetails/broadcastDetails.vue?de2d","uni-app:///pages/broadcastDetails/broadcastDetails.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,6H;AACAA,UAAU,CAACC,yBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAA6H;AAC7H;AACoE;AACL;;;AAG/D;AACsK;AACtK,gBAAgB,6KAAU;AAC1B,EAAE,sFAAM;AACR,EAAE,2FAAM;AACR,EAAE,oGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,+FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,0MAEN;AACP,KAAK;AACL;AACA,aAAa,oMAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnDA;AAAA;AAAA;AAAA;AAA4nB,CAAgB,0nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC8ChpB,mE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oqBAGA,EACA,wDADA,EAEA,IAFA,kBAEA,CACA,SACA,iBADA,EAEA,aAFA,EAGA,eAHA,EAIA,YAJA,EAKA,gBALA,EAMA,iBANA,EAOA,gBAPA,EAQA,eARA,EAQA;AACA,qBACA,aADA,EATA,EAYA,gBAZA,CAYA;AAZA,MAcA,CAjBA,EAkBA,MAlBA,oBAkBA,CACA,uEACA,CApBA,EAqBA,WACA;AACA,yDACA,qCACA,CAJA,EArBA,EA2BA,YACA,UACA;AACA,SAFA,iBAEA,CACA,gCACA,CAJA,EAKA,GALA,eAKA,CALA,EAKA,CACA;AACA,2CACA,CARA,EADA,EAWA,YACA;AACA,SAFA,iBAEA,CACA,kCACA,CAJA,EAKA,GALA,eAKA,CALA,EAKA,CACA;AACA,6CACA,CARA,EAXA,EAqBA,gBACA;AACA,SAFA,iBAEA;AACA;AACA,OAJA;AAKA,SALA,eAKA,CALA,EAKA;AACA;AACA;AACA,OARA,EArBA;;AA+BA;AACA;AACA,SAFA,iBAEA;AACA;AACA,OAJA;AAKA,SALA,eAKA,CALA,EAKA;AACA;AACA;AACA,OARA,EA/BA;;AAyCA;AACA;AACA,SAFA,iBAEA;AACA;AACA,OAJA;AAKA,SALA,eAKA,CALA,EAKA;AACA;AACA;AACA,OARA,EAzCA;;AAmDA;AACA;AACA,SAFA,iBAEA;AACA;AACA,OAJA;AAKA,SALA,eAKA,CALA,EAKA;AACA;AACA;AACA,OARA,EAnDA;;AA6DA;AACA;AACA,SAFA,iBAEA;AACA;AACA,OAJA;AAKA,SALA,eAKA,CALA,EAKA;AACA;AACA;AACA,OARA,EA7DA,EA3BA;;;AAmGA;AACA;AACA;AACA,gBADA;;AAGA,KALA;AAMA;AACA,0CADA,CACA;AACA,qBAFA,CAEA;AACA,mBAHA,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,KArCA;AAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,EAEA,GAFA;AAGA;AACA,KAjDA;AAkDA;AACA;AACA;AACA;AACA,KAtDA;AAuDA;AACA;AACA;AACA,KA1DA;AA2DA;AACA;AACA;AACA,KA9DA;AA+DA;AACA;AACA;AACA;AACA,qBADA;AAEA;AACA;AACA,2CADA;AAEA;AACA,mFADA;AAEA,oCAFA,EAFA;;AAMA;AACA;;AAEA;AACA;AACA,eAFA,MAEA;AACA;AACA;;AAEA;AACA,aAhBA;AAiBA;AACA;AACA,aAnBA;;AAqBA,SAxBA;;AA0BA,KA5FA;AA6FA;AACA;AACA,KA/FA;AAgGA;AACA;AACA;AACA;AACA;AACA;AACA,KAtGA;AAuGA;AACA;AACA;;AAEA;AACA;AACA;AACA,KA9GA,EAnGA;;AAmNA;AACA;AACA;AACA;AACA,KAJA;AAKA;AACA;AACA,KAPA,EAnNA;;;AA6NA,SA7NA,qBA6NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SALA,EAKA,GALA;AAMA,OAVA;;AAYA;AACA;AACA,OAFA,EAEA,IAFA;AAGA,KAnBA,MAmBA;AACA;AACA;AACA;AACA;;AAEA;AACA,GA7PA,E","file":"pages/broadcastDetails/broadcastDetails.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/broadcastDetails/broadcastDetails.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./broadcastDetails.vue?vue&type=template&id=600173a6&\"\nvar renderjs\nimport script from \"./broadcastDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./broadcastDetails.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/broadcastDetails/broadcastDetails.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./broadcastDetails.vue?vue&type=template&id=600173a6&\"","var components\ntry {\n  components = {\n    uniNavBar: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-nav-bar/uni-nav-bar\" */ \"@/components/uni-nav-bar/uni-nav-bar.vue\"\n      )\n    },\n    bingLyric: function() {\n      return import(\n        /* webpackChunkName: \"components/bing-lyric/bing-lyric\" */ \"@/components/bing-lyric/bing-lyric.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var f0 = _vm._f(\"formatDateTime\")(_vm.songCurrentTime, this)\n\n  var f1 = _vm._f(\"formatDateTime\")(_vm.songDuration, this)\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        f0: f0,\n        f1: f1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./broadcastDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./broadcastDetails.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"broadcastDetails\">\r\n\t\t<view class=\"topnavbar\">\r\n\t\t\t<view class=\"status_bar\" :style=\"{ height: headerPadding }\"></view>\r\n\t\t\t<uni-nav-bar left-icon=\"back\" @click-left=\"back()\" background-color=\"transparent\" :border=\"false\" color=\"#FFFFFF\">\r\n\t\t\t\t<view class=\"narBarTitle\">{{ songInfo.name }}</view>\r\n\t\t\t</uni-nav-bar>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"details\">\r\n\t\t\t<view class=\"orientation\" v-if=\"!showLyric\" @click=\"showLyricFun\">\r\n\t\t\t\t<image v-if=\"!isPlay\" class=\"play\" src=\"../../static/images/play.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t<image v-else class=\"pause\" src=\"../../static/images/playAuto.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t<image class=\"disk\" src=\"../../static/images/disk.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t<image class=\"songimg\" :src=\"songInfo.picUrl\" mode=\"aspectFit\"></image>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"lyric\" v-else @click=\"showLyricFun\">\r\n\t\t\t\t<bing-lyric :lyrics=\"currentLyric\" :curTime=\"lyricsCurTime\" :areaStyle=\"cuAreaStyle\" @centerBtnClick=\"centerBtnClick\" @copyLyrics=\"copy\"></bing-lyric>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"operation\">\r\n\t\t\t\t<view class=\"tool\">\r\n\t\t\t\t\t<i class=\"iconfont iconshoucang\"></i>\r\n\t\t\t\t\t<i class=\"iconfont iconxiazai\"></i>\r\n\t\t\t\t\t<i class=\"iconfont iconktv\"></i>\r\n\t\t\t\t\t<i class=\"iconfont iconpinglun\"></i>\r\n\t\t\t\t\t<i class=\"iconfont icongengduo2\"></i>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"progress\">\r\n\t\t\t\t\t<dc-slider :value=\"sliderValue\" max=\"100\" @changing=\"changing\" @changed=\"changed\"></dc-slider>\r\n\t\t\t\t\t<text class=\"start\">{{ songCurrentTime | formatDateTime(this) }}</text>\r\n\t\t\t\t\t<text class=\"end\">{{ songDuration | formatDateTime(this) }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"roadcast\">\r\n\t\t\t\t\t<i class=\"iconfont iconliebiaoxunhuan\"></i>\r\n\t\t\t\t\t<i class=\"iconfont iconshangyishoushangyige\" @click=\"lastSongs()\"></i>\r\n\t\t\t\t\t<i v-if=\"!isPlay\" class=\"iconfont iconbofang1\" @click=\"playMusic()\"></i>\r\n\t\t\t\t\t<i v-if=\"isPlay\" class=\"iconfont iconzanting\" @click=\"pauseAudio()\"></i>\r\n\t\t\t\t\t<i class=\"iconfont iconxiayigexiayishou\" @click=\"nextSongs()\"></i>\r\n\t\t\t\t\t<i class=\"iconfont iconbofangliebiao\"></i>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport '@/static/less/broadcastDetails.less';\r\nimport DcSlider from '@/components/ly-drag-slider/dc-slider.vue';\r\nimport bingLyric from '@/components/bing-lyric/bing-lyric.vue';\r\nexport default {\r\n\tcomponents: { DcSlider, bingLyric },\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\theaderPadding: '',\r\n\t\t\tpercentage: 0,\r\n\t\t\tcurrentTimes: 0,\r\n\t\t\tdurations: 0,\r\n\t\t\tcurrentLyric: [],\r\n\t\t\tcurrentLineNum: 0,\r\n\t\t\tplayingLyric: '',\r\n\t\t\tsliderValue: '', //进度条当前进度\r\n\t\t\tcuAreaStyle: {\r\n\t\t\t\twidth: '100%'\r\n\t\t\t},\r\n\t\t\tlyricsCurTime: 0 //当前歌词进度\r\n\t\t};\r\n\t},\r\n\tonLoad() {\r\n\t\tthis.headerPadding = uni.getSystemInfoSync()['statusBarHeight'] + 'px';\r\n\t},\r\n\tfilters: {\r\n\t\t//拦截器\r\n\t\tformatDateTime: function(data, that) {\r\n\t\t\treturn that.formatMilliseconds(data);\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tisPlay: {\r\n\t\t\t//播放状态\r\n\t\t\tget() {\r\n\t\t\t\treturn this.$store.state.isPlay;\r\n\t\t\t},\r\n\t\t\tset(v) {\r\n\t\t\t\t// 使用vuex中的mutations中定义好的方法来改变\r\n\t\t\t\tthis.$store.commit('setisPlay', v);\r\n\t\t\t}\r\n\t\t},\r\n\t\tsongInfo: {\r\n\t\t\t//音乐信息\r\n\t\t\tget() {\r\n\t\t\t\treturn this.$store.state.songInfo;\r\n\t\t\t},\r\n\t\t\tset(v) {\r\n\t\t\t\t// 使用vuex中的mutations中定义好的方法来改变\r\n\t\t\t\tthis.$store.commit('setsongInfo', v);\r\n\t\t\t}\r\n\t\t},\r\n\t\tsongDuration: {\r\n\t\t\t//音频长度信息\r\n\t\t\tget() {\r\n\t\t\t\treturn this.$store.state.songDuration;\r\n\t\t\t},\r\n\t\t\tset(v) {\r\n\t\t\t\t// 使用vuex中的mutations中定义好的方法来改变\r\n\t\t\t\tthis.$store.commit('setsongDuration', v);\r\n\t\t\t}\r\n\t\t},\r\n\t\tsongCurrentTime: {\r\n\t\t\t//当前播放位置信息\r\n\t\t\tget() {\r\n\t\t\t\treturn this.$store.state.songCurrentTime;\r\n\t\t\t},\r\n\t\t\tset(v) {\r\n\t\t\t\t// 使用vuex中的mutations中定义好的方法来改变\r\n\t\t\t\tthis.$store.commit('setsongCurrentTime', v);\r\n\t\t\t}\r\n\t\t},\r\n\t\tplaylist: {\r\n\t\t\t//播放列表信息\r\n\t\t\tget() {\r\n\t\t\t\treturn this.$store.state.playlist;\r\n\t\t\t},\r\n\t\t\tset(v) {\r\n\t\t\t\t// 使用vuex中的mutations中定义好的方法来改变\r\n\t\t\t\tthis.$store.commit('setplaylist', v);\r\n\t\t\t}\r\n\t\t},\r\n\t\tserialNumber: {\r\n\t\t\t//播放列表信息\r\n\t\t\tget() {\r\n\t\t\t\treturn this.$store.state.serialNumber;\r\n\t\t\t},\r\n\t\t\tset(v) {\r\n\t\t\t\t// 使用vuex中的mutations中定义好的方法来改变\r\n\t\t\t\tthis.$store.commit('setserialNumber', v);\r\n\t\t\t}\r\n\t\t},\r\n\t\tshowLyric: {\r\n\t\t\t//显示歌词\r\n\t\t\tget() {\r\n\t\t\t\treturn this.$store.state.showLyric;\r\n\t\t\t},\r\n\t\t\tset(v) {\r\n\t\t\t\t// 使用vuex中的mutations中定义好的方法来改变\r\n\t\t\t\tthis.$store.commit('setshowLyric', v);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tback: function() {\r\n\t\t\tuni.navigateBack({\r\n\t\t\t\tdelta: 1\r\n\t\t\t});\r\n\t\t},\r\n\t\tformatMilliseconds: function(value) {\r\n\t\t\tvar second = parseInt(value) / 1000; // second\r\n\t\t\tvar minute = 0; // minute\r\n\t\t\tvar hour = 0; // hour\r\n\t\t\tif (second > 60) {\r\n\t\t\t\tminute = parseInt(second / 60);\r\n\t\t\t\tsecond = parseInt(second % 60);\r\n\t\t\t\tif (minute > 60) {\r\n\t\t\t\t\thour = parseInt(minute / 60);\r\n\t\t\t\t\tminute = parseInt(minute % 60);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar result;\r\n\t\t\tif (second >= 10) {\r\n\t\t\t\tresult = '' + parseInt(second);\r\n\t\t\t} else {\r\n\t\t\t\tresult = '' + '0' + parseInt(second);\r\n\t\t\t}\r\n\t\t\tif (minute >= 10) {\r\n\t\t\t\tresult = '' + parseInt(minute) + ':' + result;\r\n\t\t\t} else {\r\n\t\t\t\tresult = '' + '0' + parseInt(minute) + ':' + result;\r\n\t\t\t}\r\n\t\t\tif (hour >= 10) {\r\n\t\t\t\tresult = '' + parseInt(hour) + ':' + result;\r\n\t\t\t} else {\r\n\t\t\t\tif (hour > 0) {\r\n\t\t\t\t\tresult = '' + '0' + parseInt(hour) + ':' + result;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\tgetCurrentTime: function() {\r\n\t\t\tthis.playCurrentTime();\r\n\t\t\tlet that = this;\r\n\t\t\tsetTimeout(function() {}, 300);\r\n\t\t\tthat.sliderValue = ((that.songCurrentTime / that.songDuration).toFixed(2) * 100).toFixed(0);\r\n\t\t\t// console.log('进度：' + that.sliderValue);\r\n\t\t\tif (this.isPlay) {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tthat.getCurrentTime();\r\n\t\t\t\t}, 500);\r\n\t\t\t}\r\n\t\t},\r\n\t\tplayMusic: function() {\r\n\t\t\tthis.playAudio();\r\n\t\t\tthis.isPlay = true;\r\n\t\t\tthis.getCurrentTime();\r\n\t\t},\r\n\t\tnextSongs: function() {\r\n\t\t\tthis.nextSong(this.serialNumber, this.playlist);\r\n\t\t\tthis.getCurrentTime();\r\n\t\t},\r\n\t\tlastSongs: function() {\r\n\t\t\tthis.lastSong(this.serialNumber, this.playlist);\r\n\t\t\tthis.getCurrentTime();\r\n\t\t},\r\n\t\tgetlyric: function() {\r\n\t\t\t// 根据音乐id获取歌词\r\n\t\t\tlet that = this;\r\n\t\t\tuni.getStorage({\r\n\t\t\t\tkey: 'cookie',\r\n\t\t\t\tsuccess: cookieRes => {\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: 'https://wx.3dcw.cn/lyric',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tid: this.songInfo.id ? this.songInfo.id : this.songInfo.resourceId,\r\n\t\t\t\t\t\t\tcookie: cookieRes.data\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t// console.log('详细歌词信息格式化：',JSON.stringify(res.data) );\r\n\r\n\t\t\t\t\t\t\tif (res.data.lrc) {\r\n\t\t\t\t\t\t\t\tthat.currentLyric = res.data.lrc.lyric.split('\\n');\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthat.currentLyric = [];\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tconsole.log('详细歌词信息格式化：', that.currentLyric);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: err => {\r\n\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tshowLyricFun: function() {\r\n\t\t\tthis.showLyric ? this.$store.commit('setshowLyric', false) : this.$store.commit('setshowLyric', true);\r\n\t\t},\r\n\t\tchanging: function(e) {\r\n\t\t\tconsole.log('----changing----');\r\n\t\t\tconsole.log(e);\r\n\t\t\tthis.$store.commit(\"setsongCurrentTime\", e.value/100*this.songDuration);\r\n\t\t\tthis.jumpSeek(e.value/100*this.songDuration);\r\n\t\t\tthis.lyricsCurTime = (e.value/100*this.songDuration/1000).toFixed(0);\r\n\t\t},\r\n\t\tchanged: function(e) {\r\n\t\t\tconsole.log('----changend----');\r\n\t\t\tconsole.log(e);\r\n\t\t\t\r\n\t\t\tthis.$store.commit(\"setsongCurrentTime\", e.value/100*this.songDuration);\r\n\t\t\tthis.jumpSeek(e.value/100*this.songDuration);\r\n\t\t\tthis.lyricsCurTime = (e.value/100*this.songDuration/1000).toFixed(0);\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tsongInfo: function() {\r\n\t\t\tthis.getlyric();\r\n\t\t\tthis.getCurrentTime();\r\n\t\t},\r\n\t\tsongCurrentTime: function() {\r\n\t\t\tthis.lyricsCurTime = (this.songCurrentTime / 1000).toFixed(0);\r\n\t\t}\r\n\t},\r\n\r\n\tcreated() {\r\n\t\tthis.getlyric();\r\n\t\tlet audioUrl = this.getAudioUrl();\r\n\t\tconsole.log('sss', audioUrl);\r\n\t\tlet that = this;\r\n\t\tlet innerAudioContext = '';\r\n\t\tif (!audioUrl) {\r\n\t\t\tinnerAudioContext = uni.createInnerAudioContext();\r\n\t\t\tinnerAudioContext.src = this.$store.getters.getsongPlayUrl;\r\n\t\t\tinnerAudioContext.autoplay = false;\r\n\t\t\tinnerAudioContext.onCanplay(function(res) {\r\n\t\t\t\tconsole.log('innerAudioContext 1:', innerAudioContext.duration);\r\n\t\t\t\tthat.$store.commit('setsongDuration', innerAudioContext.duration * 1000);\r\n\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tconsole.log('innerAudioContext 2:', innerAudioContext.duration);\r\n\t\t\t\t\tthat.$store.commit('setsongCurrentTime', 0);\r\n\t\t\t\t\tthis.sliderValue = 0;\r\n\t\t\t\t\tthat.$store.commit('setsongDuration', innerAudioContext.duration * 1000);\r\n\t\t\t\t}, 200);\r\n\t\t\t});\r\n\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tinnerAudioContext.destroy();\r\n\t\t\t}, 1000);\r\n\t\t} else {\r\n\t\t\tthis.sliderValue = ((that.songCurrentTime / that.songDuration).toFixed(2) * 100).toFixed(0);\r\n\t\t\tthis.lyricsCurTime = (this.songCurrentTime / 1000).toFixed(0);\r\n\t\t\tconsole.log('歌词进度：', this.lyricsCurTime);\r\n\t\t}\r\n\t\t\r\n\t\tthis.getCurrentTime();\r\n\t}\r\n};\r\n</script>\n"],"sourceRoot":""}