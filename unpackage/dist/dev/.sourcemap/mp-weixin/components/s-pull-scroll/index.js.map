{"version":3,"sources":["webpack:///G:/vue/Applets/cloudsuppressionmusic/components/s-pull-scroll/index.vue?6449","webpack:///G:/vue/Applets/cloudsuppressionmusic/components/s-pull-scroll/index.vue?e570","webpack:///G:/vue/Applets/cloudsuppressionmusic/components/s-pull-scroll/index.vue?1282","webpack:///G:/vue/Applets/cloudsuppressionmusic/components/s-pull-scroll/index.vue?6e2c","uni-app:///components/s-pull-scroll/index.vue","webpack:///G:/vue/Applets/cloudsuppressionmusic/components/s-pull-scroll/index.vue?6e2d","webpack:///G:/vue/Applets/cloudsuppressionmusic/components/s-pull-scroll/index.vue?8336"],"names":[],"mappings":"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CAMA;AACA,KA1BA;AA2BA;AACA,aA5BA,qBA4BA,CA5BA,EA4BA;AACA;;AAEA,yCAHA,CAGA;AACA,sCAJA,CAIA;;AAEA,iDANA,CAMA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0FAFA,CAEA;AACA,0DAHA,CAGA;;AAEA;AACA;AACA,mCADA,CACA;AACA,4BAFA,CAEA;AACA;AACA;;AAEA,iCAZA,CAYA;;AAEA,mDAdA,CAcA;;AAEA;AACA;AACA;AACA,gCADA,CACA;AACA;AACA,sCAHA,CAGA;AACA,uCAJA,CAIA;AACA,yCALA,CAKA;AACA,+CANA,CAMA;AACA,qCAPA,CAOA;AACA;AACA,2DAVA,CAUA;AACA;AACA,WAZA,MAYA;AACA;AACA,gCADA,CACA;AACA;AACA,sCAHA,CAGA;AACA,uCAJA,CAIA;AACA,yCALA,CAKA;AACA,+CANA,CAMA;AACA,qCAPA,CAOA;AACA;AACA;AACA,0EADA,CACA;AACA,aAFA,MAEA;AACA,qCADA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA3FA;AA4FA;AACA,YA7FA,oBA6FA,CA7FA,EA6FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA,iCAHA,CAGA;AACA,kCAJA,CAIA;AACA,qCALA,CAKA;AACA;AACA;AACA;AACA;AACA;AACA,KA/GA;AAgHA;AACA,YAjHA,oBAiHA,EAjHA,EAiHA,EAjHA,EAiHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA1HA;AA2HA,kBA3HA,0BA2HA,CA3HA,EA2HA;AACA;AACA;AACA;AACA;AACA,KAhIA;AAiIA;AACA,aAlIA,uBAkIA;AACA,iCADA,CACA;AACA,uBAFA,CAEA;AACA,KArIA;AAsIA;AACA,kBAvIA,4BAuIA;AACA;AACA;AACA,KA1IA;AA2IA,YA3IA,oBA2IA,CA3IA,EA2IA;AACA;AACA;AACA;AACA,OAFA;AAGA,KAhJA;AAiJA;AACA,YAlJA,oBAkJA,CAlJA,EAkJA;AACA;AACA;AACA,cADA;AAEA,cAFA;;AAIA;AACA;AACA;AACA,+BADA;AAEA,+BAFA;;AAIA,OALA,MAKA;AACA;AACA,sCADA;AAEA,sCAFA;;AAIA,OALA,MAKA;AACA;AACA,sBADA;AAEA,sBAFA;;AAIA;AACA,KAzKA;AA0KA;AACA,mBA3KA,6BA2KA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gCATA,CASA;AACA,0CAVA,CAUA;AACA,6BAXA,CAWA;AACA,8BAZA,CAYA;AACA,2CAbA,CAaA;AACA,KAzLA;AA0LA;AACA,mBA3LA,6BA2LA;AACA;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAFA,CAEA;AACA,oCAHA,CAGA;AACA;AACA,uCADA,CACA;AACA,2CAFA,CAEA;AACA;AACA,aAJA,EAIA,GAJA;AAKA,WATA,EASA,IATA;AAUA,SAXA,MAWA;AACA;AACA,kCAFA,CAEA;AACA,gCAHA,CAGA;AACA,iCAJA,CAIA;AACA,qCALA,CAKA;AACA;AACA;AACA;AACA,KAxNA;AAyNA;AACA,iBA1NA,2BA0NA;AACA;AACA;AACA;AACA;AACA,KA/NA;AAgOA;AACA,iBAjOA,2BAiOA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA,KAvOA;AAwOA;AACA,mBAzOA,6BAyOA;AACA;AACA;AACA,+BAFA,CAEA;AACA,sBAHA,CAGA;AACA;AACA;AACA;AACA,KAjPA;AAkPA;AACA,iBAnPA,2BAmPA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KA3PA;AA4PA,WA5PA,qBA4PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KA5QA;AA6QA;AACA,WA9QA,qBA8QA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KArRA;AAsRA;AACA,SAvRA,mBAuRA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA,KA/RA;AAgSA;AACA,SAjSA,mBAiSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAzSA;AA0SA;AACA,UA3SA,oBA2SA;AACA;AACA;AACA;AACA,KA/SA,EAnLA,E;;;;;;;;;;;;;AC7DA;AAAA;AAAA;AAAA;AAA0pC,CAAgB,ilCAAG,EAAC,C;;;;;;;;;;;ACA9qC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/s-pull-scroll/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=5d568cd3&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5d568cd3&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5d568cd3\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/s-pull-scroll/index.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=5d568cd3&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"s-pull-scroll\" :class=\"customClass\" :style=\"{height}\">\r\n    <scroll-view\r\n      :id=\"scrollId\"\r\n      class=\"s-pull-scroll-view\"\r\n      :scroll-top=\"scrollTop\"\r\n      :scroll-with-animation=\"false\"\r\n      :scroll-y=\"scrollAble\"\r\n      :enable-back-to-top=\"true\"\r\n      @scroll=\"scroll\"\r\n      @touchstart=\"touchstart\"\r\n      @touchmove=\"touchmove\"\r\n      @touchend=\"touchend\"\r\n      :lower-threshold=\"upOffset\"\r\n      @scrolltolower=\"triggerPullUp\"\r\n      @touchcancel=\"touchend\"\r\n    >\r\n      <view :style=\"{'transform': translateY, 'transition': transition}\">\r\n        <view\r\n          class=\"s-pull-down-wrap\"\r\n          :class=\"[{'is-success': isShowDownTip && isDownSuccess},{'is-error': isShowDownTip && isDownError}]\"\r\n          :style=\"{'height':downOffset+'rpx'}\"\r\n        >\r\n          <view\r\n            class=\"s-pull-loading-icon\"\r\n            v-if=\"!isShowDownTip\"\r\n            :class=\"{'s-pull-loading-rotate':isDownLoading}\"\r\n            :style=\"{'transform':downRotate}\"\r\n          ></view>\r\n          <view>{{downText}}</view>\r\n        </view>\r\n\r\n        <slot></slot>\r\n\r\n        <slot name=\"empty\" v-if=\"isEmpty\"></slot>\r\n\r\n        <view class=\"s-pull-up-wrap\" v-if=\"enablePullUp && !isEmpty\">\r\n          <slot name=\"up-loading\" v-if=\"isUpLoading\">\r\n            <view class=\"s-pull-loading-icon s-pull-loading-rotate\"></view>\r\n            <view>{{upLoadingText}}</view>\r\n          </slot>\r\n          <slot name=\"up-error\" v-if=\"isUpError && showUpError\">\r\n            <view v-if=\"upErrorText\" @click=\"onUpErrorClick\">{{upErrorText}}</view>\r\n          </slot>\r\n          <slot name=\"up-finish\" v-else-if=\"isUpFinish && showUpFinish\">\r\n            <view v-if=\"upFinishText\">{{upFinishText}}</view>\r\n          </slot>\r\n        </view>\r\n      </view>\r\n    </scroll-view>\r\n    <!-- 回到顶部按钮 -->\r\n    <view class=\"s-pull-back-top\" v-if=\"backTop\" :class=\"{'is-show':isShowBackTop}\" @click=\"onBackTop\">\r\n      <slot name=\"backtop\">\r\n        <image class=\"default-back-top\" :src=\"defaultBackTopImgSrc\" mode=\"aspectFill\" />\r\n      </slot>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nconst defaultBackTopImgSrc = require('./back-top.png');\r\nexport default {\r\n  name: 's-pull-scroll',\r\n  data () {\r\n    Object.assign(this, {\r\n      pullType: '',\r\n      scrollRealTop: 0, // 滚动条的位置\r\n      scrollHeight: 0,\r\n      page: 1,\r\n      startPoint: null,\r\n      lastPoint: null,\r\n      startTop: 0,\r\n      inTouchend: false,\r\n      movetype: 0,\r\n      startAngle: 0,\r\n      isMoveDown: false\r\n    });\r\n    return {\r\n      scrollId: 's-pull-scroll-view-id-' + Math.random().toString(36).substr(2), // 随机生成mescroll的id(不能数字开头,否则找不到元素)\r\n      defaultBackTopImgSrc,\r\n      downHight: 0, // 下拉刷新: 容器高度\r\n      downRotate: 0, // 下拉刷新: 圆形进度条旋转的角度\r\n      downText: '', // 下拉刷新: 提示的文本\r\n      isEmpty: false, // 是否显示空布局\r\n      isShowDownTip: false, // 下拉刷新提示结果\r\n      isDownSuccess: false, // 下拉刷新成功\r\n      isDownError: false, // 下拉刷新失败\r\n      isDownReset: false, // 下拉刷新: 是否显示重置的过渡动画\r\n      isDownLoading: false, // 下拉刷新: 是否显示加载中\r\n      isUpLoading: false, // 上拉加载: 是否显示 \"加载中...\"\r\n      isUpFinish: false, // 是否加载完毕\r\n      isUpError: false, // 是否上拉加载出错\r\n      isShowBackTop: false, // 是否显示回到顶部按钮\r\n      scrollAble: true, // 是否禁止下滑 (下拉时禁止,避免抖动)\r\n      scrollTop: 0 // 滚动条的位置\r\n    };\r\n  },\r\n  props: {\r\n    // class\r\n    customClass: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    // 设置高度，默认继承父级高度\r\n    height: {\r\n      default: '100%'\r\n    },\r\n    // 下拉时文案\r\n    pullingText: {\r\n      type: String,\r\n      default: '下拉刷新'\r\n    },\r\n    // 下拉释放时文案\r\n    loosingText: {\r\n      type: String,\r\n      default: '释放刷新'\r\n    },\r\n    // 下拉释放后文案\r\n    downLoadingText: {\r\n      type: String,\r\n      default: '正在刷新 ...'\r\n    },\r\n    // 上拉加载时文案\r\n    upLoadingText: {\r\n      type: String,\r\n      default: '加载中 ...'\r\n    },\r\n    // 是否显示下拉刷新成功\r\n    showDownSuccess: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    // 下拉刷新成功文案\r\n    downSuccessText: {\r\n      type: String,\r\n      default: '刷新成功'\r\n    },\r\n    // 是否显示下拉刷新失败\r\n    showDownError: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    // 下拉刷新失败文案\r\n    downErrorText: {\r\n      type: String,\r\n      default: '刷新失败'\r\n    },\r\n    // 是否显示上拉加载时失败\r\n    showUpError: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    // 上拉加载失败文案\r\n    upErrorText: {\r\n      type: String,\r\n      default: '加载失败，点击重新加载'\r\n    },\r\n    // 是否显示上拉加载数据全部完成\r\n    showUpFinish: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    // 上拉加载完毕文案\r\n    upFinishText: {\r\n      type: String,\r\n      default: '暂无更多了'\r\n    },\r\n    // 下拉配置\r\n    // 下拉回掉，参数为vm\r\n    pullDown: Function,\r\n    // 是否允许下拉刷新\r\n    enablePullDown: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    downOffset: {\r\n      type: Number,\r\n      default: 100\r\n    },\r\n    downMinAngle: {\r\n      type: Number,\r\n      default: 45\r\n    },\r\n    downInOffsetRate: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n    downOutOffsetRate: {\r\n      type: Number,\r\n      default: 0.2\r\n    },\r\n    downStartTop: {\r\n      type: Number,\r\n      default: 100\r\n    },\r\n    // 下拉释放失效高度\r\n    downTouchHeight: {\r\n      type: Number,\r\n      default: 1200\r\n    },\r\n    // 上拉配置\r\n    // 上拉回掉，参数为vm\r\n    pullUp: Function,\r\n    // 是否允许上拉加载\r\n    enablePullUp: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    upOffset: {\r\n      type: Number,\r\n      default: 100\r\n    },\r\n    // 回到顶部\r\n    backTop: Boolean,\r\n    // 滚动距离大于多少rpx时触发\r\n    backTopOffset: {\r\n      type: Number,\r\n      default: 1000\r\n    }\r\n  },\r\n  computed: {\r\n    numBackTopOffset () {\r\n      return uni.upx2px(this.backTopOffset);\r\n    },\r\n    numDownStartTop () {\r\n      return uni.upx2px(this.downStartTop);\r\n    },\r\n    numDownOffset () {\r\n      return uni.upx2px(this.downOffset);\r\n    },\r\n    numDownTouchHeight () {\r\n      return uni.upx2px(this.downTouchHeight);\r\n    },\r\n    transition () {\r\n      return this.isDownReset ? 'transform 300ms' : '';\r\n    },\r\n    translateY () {\r\n      return this.downHight > 0 ? 'translateY(' + this.downHight + 'px)' : '';\r\n    }\r\n  },\r\n  methods: {\r\n    // 注册列表滚动事件,用于下拉刷新\r\n    scroll (e) {\r\n      e = e.detail;\r\n      // 更新滚动条的位置\r\n      this.scrollRealTop = e.scrollTop;\r\n      // 更新滚动内容高度\r\n      this.scrollHeight = e.scrollHeight;\r\n      // 回到顶部功能\r\n      if (this.backTop) {\r\n        // 返回顶部按钮的显示隐藏\r\n        if (e.scrollTop >= this.numBackTopOffset) {\r\n          this.isShowBackTop = true;\r\n        } else {\r\n          this.isShowBackTop = false;\r\n        }\r\n      }\r\n    },\r\n    // 注册列表touchstart事件,用于下拉刷新\r\n    touchstart (e) {\r\n      if (!this.pullDown || !this.enablePullDown) return;\r\n      this.startPoint = this.getPoint(e); // 记录起点\r\n      this.startTop = this.scrollRealTop; // 记录此时的滚动条位置\r\n      this.startAngle = 0; // 初始角度\r\n      this.lastPoint = this.startPoint; // 重置上次move的点\r\n      this.inTouchend = false; // 标记不是touchend\r\n    },\r\n    // 注册列表touchmove事件,用于下拉刷新\r\n    touchmove (e) {\r\n      if (!this.pullDown || !this.enablePullDown) return;\r\n\r\n      const scrollTop = this.scrollRealTop; // 当前滚动条的距离\r\n      const curPoint = this.getPoint(e); // 当前点\r\n\r\n      const moveY = curPoint.y - this.startPoint.y; // 和起点比,移动的距离,大于0向下拉,小于0向上拉\r\n\r\n      // (向下拉&&在顶部) scroll-view在滚动时不会触发touchmove,当触顶/底/左/右时,才会触发touchmove\r\n      // scroll-view滚动到顶部时,scrollTop不一定为0; 在iOS的APP中scrollTop可能为负数,不一定和startTop相等\r\n      if (moveY > 0 && (scrollTop <= 0 || (scrollTop <= this.numDownStartTop && scrollTop === this.startTop))) {\r\n        // 可下拉的条件\r\n        if (this.pullDown && this.enablePullDown && !this.inTouchend && !this.isDownLoading && !this.isUpLoading) {\r\n          // 下拉的初始角度是否在配置的范围内\r\n          if (!this.startAngle) this.startAngle = this.getAngle(this.lastPoint, curPoint); // 两点之间的角度,区间 [0,90]\r\n          if (this.startAngle < this.downMinAngle) return; // 如果小于配置的角度,则不往下执行下拉刷新\r\n\r\n          // 如果手指的位置超过配置的距离,则提前结束下拉,避免Webview嵌套导致touchend无法触发\r\n          if (this.numDownTouchHeight > 0 && curPoint.y >= this.numDownTouchHeight) {\r\n            this.inTouchend = true; // 标记执行touchend\r\n            this.touchend(); // 提前触发touchend\r\n            return;\r\n          }\r\n\r\n          this.preventDefault(e); // 阻止默认事件\r\n\r\n          const diff = curPoint.y - this.lastPoint.y; // 和上次比,移动的距离 (大于0向下,小于0向上)\r\n\r\n          // 下拉距离  < 指定距离\r\n          if (this.downHight < this.numDownOffset) {\r\n            if (this.movetype !== 1) {\r\n              this.movetype = 1; // 加入标记,保证只执行一次\r\n              // 下拉的距离进入offset范围内那一刻的回调\r\n              this.scrollAble = false; // 禁止下拉,避免抖动\r\n              this.isDownReset = false; // 不重置高度\r\n              this.isDownLoading = false; // 不显示加载中\r\n              this.downText = this.pullingText; // 设置文本\r\n              this.isMoveDown = true; // 标记下拉区域高度改变,在touchend重置回来\r\n            }\r\n            this.downHight += diff * this.downInOffsetRate; // 越往下,高度变化越小\r\n            // 指定距离  <= 下拉距离\r\n          } else {\r\n            if (this.movetype !== 2) {\r\n              this.movetype = 2; // 加入标记,保证只执行一次\r\n              // 下拉的距离大于offset那一刻的回调\r\n              this.scrollAble = false; // 禁止下拉,避免抖动\r\n              this.isDownReset = false; // 不重置高度\r\n              this.isDownLoading = false; // 不显示加载中\r\n              this.downText = this.loosingText; // 设置文本\r\n              this.isMoveDown = true; // 标记下拉区域高度改变,在touchend重置回来\r\n            }\r\n            if (diff > 0) { // 向下拉\r\n              this.downHight += Math.round(diff * this.downOutOffsetRate); // 越往下,高度变化越小\r\n            } else { // 向上收\r\n              this.downHight += diff; // 向上收回高度,则向上滑多少收多少高度\r\n            }\r\n          }\r\n          // 设置旋转角度\r\n          this.downRotate = 'rotate(' + 360 * (this.downHight / this.numDownOffset) + 'deg)';\r\n        }\r\n      }\r\n      // 记录本次移动的点\r\n      this.lastPoint = curPoint;\r\n    },\r\n    // 注册列表touchend事件,用于下拉刷新\r\n    touchend (e) {\r\n      if (!this.pullDown || !this.enablePullDown) return;\r\n      // 如果下拉区域高度已改变,则需重置回来\r\n      if (this.isMoveDown) {\r\n        if (this.downHight >= this.numDownOffset) {\r\n          // 符合触发刷新的条件\r\n          this.triggerPullDown();\r\n        } else {\r\n          // 不符合的话 则重置\r\n          this.downHight = 0;\r\n          this.scrollAble = true; // 开启下拉\r\n          this.isDownReset = true; // 重置高度\r\n          this.isDownLoading = false; // 不显示加载中\r\n          this.scrollTo(0);\r\n        }\r\n        this.movetype = 0;\r\n        this.isMoveDown = false;\r\n      }\r\n    },\r\n    /* 计算两点之间的角度: 区间 [0,90] */\r\n    getAngle (p1, p2) {\r\n      const x = Math.abs(p1.x - p2.x);\r\n      const y = Math.abs(p1.y - p2.y);\r\n      const z = Math.sqrt(x * x + y * y);\r\n      let angle = 0;\r\n      if (z !== 0) {\r\n        angle = Math.asin(y / z) / Math.PI * 180;\r\n      }\r\n      return angle;\r\n    },\r\n    preventDefault (e) {\r\n      // 小程序不支持e.preventDefault\r\n      // app的bounce只能通过配置pages.json的style.app-plus.bounce为\"none\"来禁止\r\n      // cancelable:是否可以被禁用; defaultPrevented:是否已经被禁用\r\n      if (e && e.cancelable && !e.defaultPrevented) e.preventDefault();\r\n    },\r\n    // 点击回到顶部的按钮回调\r\n    onBackTop () {\r\n      this.isShowBackTop = false; // 回到顶部按钮需要先隐藏,再执行回到顶部,避免闪动\r\n      this.scrollTo(0); // 执行回到顶部\r\n    },\r\n    // 点击失败重新加载\r\n    onUpErrorClick () {\r\n      this.isUpError = false;\r\n      this.triggerPullDown();\r\n    },\r\n    scrollTo (y) {\r\n      this.scrollTop = this.scrollRealTop;\r\n      this.$nextTick(() => {\r\n        this.scrollTop = y;\r\n      });\r\n    },\r\n    /* 根据点击滑动事件获取第一个手指的坐标 */\r\n    getPoint (e) {\r\n      if (!e) {\r\n        return {\r\n          x: 0,\r\n          y: 0\r\n        };\r\n      }\r\n      if (e.touches && e.touches[0]) {\r\n        return {\r\n          x: e.touches[0].pageX,\r\n          y: e.touches[0].pageY\r\n        };\r\n      } else if (e.changedTouches && e.changedTouches[0]) {\r\n        return {\r\n          x: e.changedTouches[0].pageX,\r\n          y: e.changedTouches[0].pageY\r\n        };\r\n      } else {\r\n        return {\r\n          x: e.clientX,\r\n          y: e.clientY\r\n        };\r\n      }\r\n    },\r\n    /* 显示下拉进度布局 */\r\n    showDownLoading () {\r\n      this.isEmpty = false;\r\n      this.isUpLoading = false;\r\n      this.isUpError = false;\r\n      this.isUpFinish = false;\r\n\r\n      this.isShowDownTip = false;\r\n      this.isDownSuccess = false;\r\n      this.isDownError = false;\r\n      this.isDownLoading = true; // 显示加载中\r\n      this.downHight = this.numDownOffset; // 更新下拉区域高度\r\n      this.scrollAble = true; // 开启下拉\r\n      this.isDownReset = true; // 重置高度\r\n      this.downText = this.downLoadingText; // 设置文本\r\n    },\r\n    /* 结束下拉刷新 */\r\n    hideDownLoading () {\r\n      if (this.isDownLoading) {\r\n        if (this.isDownSuccess && this.showDownSuccess) {\r\n          this.downText = this.downSuccessText;\r\n          this.isShowDownTip = true;\r\n        } else if (this.isDownError && this.showDownError) {\r\n          this.downText = this.downErrorText;\r\n          this.isShowDownTip = true;\r\n        }\r\n        if (this.isShowDownTip) {\r\n          setTimeout(() => {\r\n            this.downHight = 0;\r\n            this.isDownReset = true; // 重置高度\r\n            this.scrollHeight = 0;// 重置滚动区域,使数据不满屏时仍可检查触发翻页\r\n            setTimeout(() => {\r\n              this.scrollAble = true; // 开启下拉\r\n              this.isDownLoading = false; // 不显示加载中\r\n              this.isShowDownTip = false;\r\n            }, 300);\r\n          }, 1000);\r\n        } else {\r\n          this.downHight = 0;\r\n          this.isDownReset = true; // 重置高度\r\n          this.scrollHeight = 0;// 重置滚动区域,使数据不满屏时仍可检查触发翻页\r\n          this.scrollAble = true; // 开启下拉\r\n          this.isDownLoading = false; // 不显示加载中\r\n          this.isShowDownTip = false;\r\n        }\r\n      }\r\n    },\r\n    /* 显示上拉加载中 */\r\n    showUpLoading () {\r\n      this.isEmpty = false;\r\n      this.isUpError = false;\r\n      this.isUpFinish = false;\r\n      this.isUpLoading = true;\r\n    },\r\n    /* 结束上拉加载 */\r\n    hideUpLoading () {\r\n      if (this.isUpLoading) {\r\n        this.$nextTick(() => {\r\n          this.isUpLoading = false;\r\n        });\r\n      }\r\n    },\r\n    /* 触发下拉刷新 */\r\n    triggerPullDown () {\r\n      if (this.pullDown && this.enablePullDown && !this.isDownLoading && !this.isUpLoading) {\r\n        // 下拉加载中...\r\n        this.showDownLoading(); // 下拉刷新中...\r\n        this.page = 1; // 预先加一页\r\n        this.pullType = 'down';\r\n        this.pullDown && this.pullDown.call(this.$parent, this);\r\n      }\r\n    },\r\n    /* 触发上拉加载 */\r\n    triggerPullUp () {\r\n      if (this.pullUp && this.enablePullUp && !this.isUpLoading && !this.isDownLoading && !this.isUpError && !this.isUpFinish) {\r\n        // 上拉加载中...\r\n        this.showUpLoading();\r\n        this.pullType = 'up';\r\n\r\n        this.pullUp && this.pullUp.call(this.$parent, this);\r\n      }\r\n    },\r\n    refresh () {\r\n      this.scrollTo(0);\r\n      this.page = 1;\r\n      this.isEmpty = false;\r\n      this.isDownSuccess = false;\r\n      this.isDownError = false;\r\n      this.isShowDownTip = false;\r\n      this.isUpError = false;\r\n      this.isUpFinish = false;\r\n      this.isDownLoading = false;\r\n      this.isUpLoading = false;\r\n      if (this.pullDown && this.enablePullDown) {\r\n        this.triggerPullDown();\r\n      } else if (this.pullUp && this.enablePullUp) {\r\n        this.triggerPullUp();\r\n      }\r\n    },\r\n    /* 正常加载成功 */\r\n    success () {\r\n      this.page++;\r\n      if (this.isDownLoading) {\r\n        this.isDownSuccess = true;\r\n      }\r\n      this.hideDownLoading();\r\n      this.hideUpLoading();\r\n    },\r\n    /* 加载失败 */\r\n    error () {\r\n      if (this.isDownLoading) {\r\n        this.isDownError = true;\r\n      } else if (this.isUpLoading) {\r\n        this.isUpError = true;\r\n      }\r\n      this.hideDownLoading();\r\n      this.hideUpLoading();\r\n    },\r\n    /* 没有数据 */\r\n    empty () {\r\n      if (this.isDownLoading) {\r\n        this.isDownSuccess = true;\r\n      }\r\n      this.isEmpty = true;\r\n      this.isUpFinish = true;\r\n      this.hideDownLoading();\r\n      this.hideUpLoading();\r\n    },\r\n    /* 全部数据加载完毕 */\r\n    finish () {\r\n      this.hideDownLoading();\r\n      this.hideUpLoading();\r\n      this.isUpFinish = true;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.s-pull-scroll {\r\n  height: 100%;\r\n  position: relative;\r\n\r\n  .s-pull-scroll-view {\r\n    position: relative;\r\n    width: 100%;\r\n    height: 100%;\r\n    overflow-y: auto;\r\n    box-sizing: border-box;\r\n  }\r\n  /* 定位的方式固定高度 */\r\n  .is-fixed {\r\n    z-index: 1;\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    width: auto;\r\n    height: auto;\r\n  }\r\n  .s-pull-down-wrap,\r\n  .s-pull-up-wrap {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    font-size: 28rpx;\r\n    color: gray;\r\n  }\r\n  .s-pull-down-wrap {\r\n    position: absolute;\r\n    left: 0;\r\n    width: 100%;\r\n    transform: translateY(-100%);\r\n  }\r\n  .s-pull-up-wrap {\r\n    min-height: 100rpx;\r\n  }\r\n  /* 旋转loading */\r\n  .s-pull-loading-icon {\r\n    width: 28rpx;\r\n    height: 28rpx;\r\n    border-radius: 50%;\r\n    margin-right: 16rpx;\r\n    border: 2rpx solid currentColor;\r\n    border-bottom-color: transparent !important;\r\n  }\r\n  /* 旋转动画 */\r\n  .s-pull-loading-rotate {\r\n    animation: s-pull-loading-rotate 0.6s linear infinite;\r\n  }\r\n\r\n  @keyframes s-pull-loading-rotate {\r\n    0% {\r\n      transform: rotate(0deg);\r\n    }\r\n\r\n    100% {\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n\r\n  /* 回到顶部的按钮 */\r\n  .s-pull-back-top {\r\n    opacity: 0;\r\n    pointer-events: none;\r\n    transition: opacity 0.3s linear;\r\n    &.is-show {\r\n      opacity: 1;\r\n      pointer-events: auto;\r\n    }\r\n    .default-back-top {\r\n      position: absolute;\r\n      right: 20rpx;\r\n      width: 72rpx;\r\n      height: 72rpx;\r\n      border-radius: 50%;\r\n      bottom: 30rpx;\r\n      z-index: 99;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=5d568cd3&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=5d568cd3&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1616029791251\n      var cssReload = require(\"G:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}